name: IntakeSubsystem
constants:
  - DEFAULT_SPEED: 0.77
hardware:
  - motor: TalonFX(51)
  - xFactor: Solenoid(0)
states:
  - XFactorState: 
    - RETRACTED
    - EXTENDED
constructor:
  - currentXFactorState = RETRACTED
functions:
  - intake: () => leader.set(TalonFXControlMode.PercentOutput, ${DEFAULT_SPEED})
  - stop: () => motor.set(TalonFXControlMode.PercentOutput, 0.0)
  - extend: () => if (currentXFactorState != XFactorState.EXTENDED) currentXFactorState = XFactorState.EXTENDED
  - retract: () => if (currentXFactorState != XFactorState.RETRACTED) currentXFactorState = XFactorState.RETRACTED
